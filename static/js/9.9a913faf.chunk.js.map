{"version":3,"sources":["components/List.js","pages/History.js"],"names":["Img","styled","img","Component","observer","HistoryStore","useStores","useEffect","console","log","reset","initialLoad","pageStart","loadMore","find","hasMore","isLoading","useWindow","dataSource","list","renderItem","item","Item","key","id","src","attributes","url","filename","target","href","tip","History","List"],"mappings":"gXAOA,IAAMA,E,MAAMC,EAAOC,IAAV,KA2DMC,EApDGC,aAAS,WAAO,IACxBC,EAAiBC,cAAjBD,aAeR,OATAE,qBAAU,WAGR,OAFAC,QAAQC,IAAI,4BAEL,WACLD,QAAQC,IAAI,gBACZJ,EAAaK,WAEd,IAGD,6BACE,kBAAC,IAAD,CACEC,aAAa,EACbC,UAAW,EACXC,SAlBW,WACfR,EAAaS,QAkBTC,SAAUV,EAAaW,WAAWX,EAAaU,QAC/CE,WAAW,GAEX,kBAAC,IAAD,CACEC,WAAYb,EAAac,KACzBC,WACE,SAAAC,GAAI,OAAI,kBAAC,IAAKC,KAAN,CAAWC,IAAKF,EAAKG,IAC3B,6BACE,kBAACxB,EAAD,CAAKyB,IAAKJ,EAAKK,WAAWC,IAAID,WAAWC,OAE3C,6BACE,4BAAKN,EAAKK,WAAWE,WAEvB,6BACE,uBAAIC,OAAO,SAASC,KAAMT,EAAKK,WAAWC,IAAID,WAAWC,KAAMN,EAAKK,WAAWC,IAAID,WAAWC,SAKlGtB,EAAaW,WAAaX,EAAaU,SACvC,6BACE,kBAAC,IAAD,CAAMgB,IAAI,8BC7CTC,UATf,WACE,OACE,oCACE,uCACA,kBAACC,EAAD","file":"static/js/9.9a913faf.chunk.js","sourcesContent":["import React, { useEffect } from 'react';\nimport { observer } from 'mobx-react';\nimport { useStores } from '../stores';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { List, Spin } from 'antd';\nimport styled from 'styled-components';\n\nconst Img = styled.img`\n  width: 100px;\n  height: 120px;\n  object-fit: contain;\n  border: 1px solid #eee;\n`;\n\nconst Component = observer(() => {\n  const { HistoryStore } = useStores();\n\n  const loadMore = () => {\n    HistoryStore.find();\n  };\n\n  useEffect(() => {\n    console.log('进入组件')\n\n    return () => {\n      console.log('卸载')\n      HistoryStore.reset();\n    }\n  }, []);\n\n  return (\n    <div>\n      <InfiniteScroll \n        initialLoad={true}\n        pageStart={0}\n        loadMore={loadMore}\n        hasMore={!HistoryStore.isLoading&&HistoryStore.hasMore}\n        useWindow={true}\n      >\n        <List \n          dataSource={HistoryStore.list}\n          renderItem={\n            item => <List.Item key={item.id}>\n              <div>\n                <Img src={item.attributes.url.attributes.url}  />\n              </div>\n              <div>\n                <h5>{item.attributes.filename}</h5>\n              </div>\n              <div>\n                <a  target=\"_blank\" href={item.attributes.url.attributes.url}>{item.attributes.url.attributes.url}</a>\n              </div>\n            </List.Item>\n          }\n        >\n          { HistoryStore.isLoading && HistoryStore.hasMore && (\n            <div>\n              <Spin tip=\"加载中\"/>\n            </div>\n          )} \n        </List>\n      </InfiniteScroll>\n    </div>\n  );\n});\n\nexport default Component;","import React from 'react';\nimport List from '../components/List';\n\nfunction History() {\n  return (\n    <>\n      <h1>History</h1>\n      <List></List>\n    </>\n  );\n}\n\nexport default History;"],"sourceRoot":""}